<MessageScreenView>
    MDBoxLayout:
        orientation: 'vertical'
        md_bg_color: app.theme_cls.primary_light       

        MDScrollView:
            do_scroll_x: False
            do_scroll_y: True

            MDBoxLayout:
                orientation: 'vertical'
                adaptive_height: True
                padding: '20dp', '10dp', '20dp', '10dp'
                spacing: '15dp'

                MDLabel:
                    text: 'Новое сообщение:'
                    theme_text_color: 'Custom'
                    text_color: app.theme_cls.accent_color
                    font_style: 'Button'
                
                MDTextField:
                    id: message_field
                    hint_text: "Введите новое сообщение"
                    multiline: True
                    helper_text_color_focus: "red"
                    
        MDBoxLayout:
            size_hint_y: .1
            md_bg_color: app.theme_cls.primary_color
            padding: '20dp', 0, '20dp', 0
            spacing: '10dp'
            
            MDRectangleFlatIconButton:
                icon: "send"
                icon_color: 'white'
                size_hint: .6, .6
                pos_hint: {'center_x': .5, 'center_y': .5}
                text: "Отправить"
                theme_text_color: "Custom"
                text_color: "white"
                line_color: "white"
                md_bg_color: app.theme_cls.primary_color
                font_size: '10sp'
                on_release: root.save_message()

            MDRectangleFlatIconButton:
                icon: "close"
                size_hint: .6, .6
                pos_hint: {'center_x': .5, 'center_y': .5}
                text: "Отмена"
                theme_text_color: "Custom"
                text_color: app.theme_cls.primary_color
                line_color: app.theme_cls.primary_color
                md_bg_color: "white"
                font_size: '10sp'
                on_release: root.close_screen()